<!DOCTYPE html>
<html lang="en">
  <head>
	<title>Welcome!</title>
    <meta charset="utf-8"> 
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	
	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<style>
		body {
			background-color: black;
		}
		.hindent {
			text-indent: 30px;
		}
		.red {
			background-color: red;
		}
		.green {
			background-color: green;
		}
		.large {
			font-size: 18px;
		}
		#signupblock {
			display: none;
		}
		.hbg {
			background-color: #262626;
			color: #ffffff;
		}
		.ph {
			background-color: #262626;
			color: #ffffff;
		}
		.panel {
			border: 0 none;
		}
	</style>
  </head>
  
  <body>
	<div class="container-fluid hbg">
		<h1 class="display-1 hindent">Online Classroom</h1>
	</div>
	<nav class="navbar navbar-inverse">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>                        
				</button>
				<a class="navbar-brand" href="#">StayConnected</a>
			</div>
			<div class="collapse navbar-collapse" id="myNavbar">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#">Sign-In/Sign-Up</a></li>
					<li class="dropdown"><a href="#">Link1</a></li>
					<li><a href="#">Link2</a></li>
					<li><a href="#">Link3</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="container-fluid">
	<div class="row">
		<div class="col-sm-6">
		<div class="panel">
			<div class="ph panel-heading"><h2 class="display-2">Create Join Connect</h2></div>
			<div class="panel-body"><h3 class="display-3">Create and Manage Groups.</h3></div>
			<div class="panel-body"><h3 class="display-3">Join to Stay Updated.</h3></div>
			<div class="panel-body"><h3 class="display-3">Connect to People.</h3></div>
		</div>
		</div>
		<div class="col-sm-6">
		<div class="panel">
			<div class="ph panel-heading"><h2 class="display-2">Sign-In or Sign-Up</h2></div>
			<div class="panel-body">
				<ul class="nav nav-tabs">
					<li id="s1" class="active medium"><a href="#">Sign-In</a></li>
					<li id="s2" class="medium"><a href="#">Sign-Up</a></li>
				</ul>
			</div>
			<div id = "loginblock"class="container-fluid">
			<div class="panel-body input-group">
				<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
				<input id="username" class="form-control input-md" type="text" placeholder="Username or Email-Id" />
			</div>
			<div class="panel-body input-group">
				<span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
				<input id="pass" class="form-control input-md" type="password" placeholder="Password" />
			</div>
			<div class="panel-body checkbox">
				<label><input id="signed" value="" type="checkbox" checked/>Keep me signed-in</label>
			</div>
			<div class="panel-body">
				<button id="login" class="btn btn-primary btn-md col-sm-5" >Login <i class="glyphicon glyphicon-log-in"></i></button>
			</div>
			</div>
			<!-- for register info -->
			<div id="signupblock" class="container-fluid">
			<div class="panel-body">
				<input id="fullname" class="form-control input-md" type="text" placeholder="Full Name" />
			</div>
			<div class="panel-body">
				<input id="email" class="form-control input-md" type="text" placeholder="Email" />
			</div>
			<div class="panel-body">
				<input id="password" class="form-control input-md" type="password" placeholder="Password" />
			</div>
			<div class="panel-body">
				<label>Date Of Birth</label>
				<input id="dob" class="form-control input-md" type="date" />
			</div>
			<div class="panel-body">
				<label class="radio-inline"><input id="male" type="radio" name="gender" checked/>Male</label>
				<label class="radio-inline"><input id="female" type="radio" name="gender" />Female</label>
			</div>
			<div class="panel-body">
				<input id="register" class="btn btn-primary btn-md col-sm-5" type="submit" value="Register" />
			</div>
			</div>
		</div>
		</div>
	</div>
	</div>
	<div class="container-fluid hbg">
		<p>Footer</p>
		<h3 class="display-3">Developed By So and So...</h3>
	</div>
	<script type="text/javascript">
		//interface
		loginblock = document.getElementById("loginblock");
		signupblock = document.getElementById("signupblock");
		t1 = document.getElementById("s1");
		t2 = document.getElementById("s2");
		//register
		fullname = document.getElementById("fullname");
		email = document.getElementById("email");
		password = document.getElementById("password");
		dob = document.getElementById("dob");
		male = document.getElementById("male");
		female = document.getElementById("female");
		register = document.getElementById("register");
		//login
		username = document.getElementById("username");
		pass = document.getElementById("pass");
		signed = document.getElementById("signed");
		login = document.getElementById("login");
		//initialize
		signupblock.style.display = "none";
		
		t1.onclick = function () {
			if (loginblock.style.display == "none") {
				loginblock.style.display = "block";
				signupblock.style.display = "none";
				t2.classList.remove("active");
				t1.classList.add("active")
			}
			else
			{
				console.log("error");
			}
		}
		
		t2.onclick = function () {
			if (signupblock.style.display == "none") {
				signupblock.style.display = "block";
				loginblock.style.display = "none";
				t1.classList.remove("active");
				t2.classList.add("active");
			}
			else
			{
				console.log("error");
			}
		}
		
		register.onclick = function () {
			//boolean x = validate();
			var gender = "validating";
			if (male.checked)
				gender = "male";
			else
				gender = "female";
				
			if (true) {
				var hr = new XMLHttpRequest();
				hr.onreadystatechange = function () {
					if (hr.readyState == XMLHttpRequest.DONE) {
						if (hr.status == 200) {
							alert(hr.responseText);
						}
						else if (hr.status == 404) {
							alert("not found");
						}
					}
				}
				hr.open("POST", "php/register.php", true);
				hr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
				hr.send("fullname=" + fullname.value + "&email=" + email.value + "&password=" + password.value + "&dob=" + dob.value 
				+ "&gender=" + gender);
			} else {
			
			}
		}
		
		login.onclick = function () {
			//boolean x = validate2();
			if (true) {
				var hr = new XMLHttpRequest();
				hr.onreadystatechange = function () {
					if (hr.readyState == XMLHttpRequest.DONE) {
						if (hr.status == 200) {
							alert(hr.responseText);
							window.location = "http://localhost:8080/rdbms/rdbmsproject/onlineclassroom/home.php"; 
						}
						else if (hr.status == 404) {
							alert("not found");
						}
					}
				}
				hr.open("POST", "php/login.php", true);
				hr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
				hr.send("username=" + username.value + "&password=" + pass.value);
			} else {
				
			}
		}
		
		function validate() {
			
		}
	</script>
  </body>
</html>